<Window x:Class="DeskDefender.Windows.SettingsWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="DeskDefender Settings" Height="600" Width="800"
        WindowStartupLocation="CenterOwner"
        Background="{DynamicResource PrimaryBackgroundBrush}"
        Foreground="{DynamicResource PrimaryTextBrush}"
        ResizeMode="CanResize">
    
    <Grid Margin="20">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>
        
        <!-- Header -->
        <TextBlock Grid.Row="0" Text="Settings" FontSize="24" FontWeight="Bold" 
                   Foreground="{DynamicResource PrimaryTextBrush}" Margin="0,0,0,20"/>
        
        <!-- Settings Content -->
        <TabControl Grid.Row="1" Background="{DynamicResource SecondaryBackgroundBrush}">
            
            <!-- Event Batching Tab -->
            <TabItem Header="Event Batching" Foreground="{DynamicResource PrimaryTextBrush}">
                <ScrollViewer Padding="20">
                    <StackPanel>
                        <TextBlock Text="Event Batching Configuration" FontSize="16" FontWeight="Bold" 
                                   Foreground="{DynamicResource PrimaryTextBrush}" Margin="0,0,0,15"/>
                        
                        <TextBlock Text="Configure how events are grouped and summarized for display." 
                                   Foreground="{DynamicResource SecondaryTextBrush}" Margin="0,0,0,20" TextWrapping="Wrap"/>
                        
                        <!-- Summary Interval -->
                        <Grid Margin="0,0,0,20">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="200"/>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>
                            
                            <TextBlock Grid.Column="0" Text="Summary Interval:" VerticalAlignment="Center" 
                                       Foreground="{DynamicResource PrimaryTextBrush}" FontWeight="Bold"/>
                            <Slider Grid.Column="1" x:Name="BatchingIntervalSlider" 
                                   Minimum="1" Maximum="60" Value="5" 
                                   TickFrequency="1" IsSnapToTickEnabled="True"
                                   VerticalAlignment="Center" Margin="10,0,10,0"
                                   ValueChanged="BatchingInterval_Changed"/>
                            <TextBlock Grid.Column="2" x:Name="BatchingIntervalValue" Text="5 seconds" 
                                      VerticalAlignment="Center" MinWidth="80" 
                                      Foreground="{DynamicResource PrimaryTextBrush}"/>
                        </Grid>
                        
                        <TextBlock Text="Events are grouped and summarized at this interval for cleaner display. Lower values provide more frequent updates but may be overwhelming. Higher values provide less frequent but more comprehensive summaries." 
                                   Foreground="{DynamicResource SecondaryTextBrush}" FontSize="11" 
                                   Margin="0,0,0,20" TextWrapping="Wrap"/>
                        
                        <!-- Current Status -->
                        <Border BorderBrush="{DynamicResource BorderBrush}" BorderThickness="1" 
                                Background="{DynamicResource TertiaryBackgroundBrush}" Padding="15" Margin="0,0,0,20">
                            <StackPanel>
                                <TextBlock Text="Current Status" FontWeight="Bold" 
                                           Foreground="{DynamicResource PrimaryTextBrush}" Margin="0,0,0,10"/>
                                <TextBlock x:Name="CurrentIntervalText" Text="Current interval: 5 seconds" 
                                           Foreground="{DynamicResource PrimaryTextBrush}"/>
                                <TextBlock x:Name="LastSummaryText" Text="Last summary: Never" 
                                           Foreground="{DynamicResource SecondaryTextBrush}" Margin="0,5,0,0"/>
                            </StackPanel>
                        </Border>
                    </StackPanel>
                </ScrollViewer>
            </TabItem>
            
            <!-- Appearance Tab -->
            <TabItem Header="Appearance" Foreground="{DynamicResource PrimaryTextBrush}">
                <ScrollViewer Padding="20">
                    <StackPanel>
                        <TextBlock Text="Appearance Settings" FontSize="16" FontWeight="Bold" 
                                   Foreground="{DynamicResource PrimaryTextBrush}" Margin="0,0,0,15"/>
                        
                        <TextBlock Text="Customize the look and feel of the application." 
                                   Foreground="{DynamicResource SecondaryTextBrush}" Margin="0,0,0,20" TextWrapping="Wrap"/>
                        
                        <!-- Theme Selection -->
                        <Grid Margin="0,0,0,20">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="200"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            
                            <TextBlock Grid.Column="0" Text="Theme:" VerticalAlignment="Center" 
                                       Foreground="{DynamicResource PrimaryTextBrush}" FontWeight="Bold"/>
                            <StackPanel Grid.Column="1" Orientation="Horizontal" Margin="10,0,0,0">
                                <RadioButton x:Name="DarkThemeRadio" Content="Dark Theme" 
                                            Foreground="{DynamicResource PrimaryTextBrush}" 
                                            IsChecked="True" Margin="0,0,20,0"
                                            Checked="ThemeRadio_Checked"/>
                                <RadioButton x:Name="LightThemeRadio" Content="Light Theme" 
                                            Foreground="{DynamicResource PrimaryTextBrush}"
                                            Checked="ThemeRadio_Checked"/>
                            </StackPanel>
                        </Grid>
                        
                        <TextBlock Text="Choose between dark and light themes. Changes take effect immediately." 
                                   Foreground="{DynamicResource SecondaryTextBrush}" FontSize="11" 
                                   Margin="0,0,0,20" TextWrapping="Wrap"/>
                    </StackPanel>
                </ScrollViewer>
            </TabItem>
            
            <!-- General Tab -->
            <TabItem Header="General" Foreground="{DynamicResource PrimaryTextBrush}">
                <ScrollViewer Padding="20">
                    <StackPanel>
                        <TextBlock Text="General Settings" FontSize="16" FontWeight="Bold" 
                                   Foreground="{DynamicResource PrimaryTextBrush}" Margin="0,0,0,15"/>
                        
                        <TextBlock Text="General application settings and preferences." 
                                   Foreground="{DynamicResource SecondaryTextBrush}" Margin="0,0,0,20" TextWrapping="Wrap"/>
                        
                        <!-- Motion Sensitivity -->
                        <Grid Margin="0,0,0,20">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="200"/>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>
                            
                            <TextBlock Grid.Column="0" Text="Motion Sensitivity:" VerticalAlignment="Center" 
                                       Foreground="{DynamicResource PrimaryTextBrush}" FontWeight="Bold"/>
                            <Slider Grid.Column="1" x:Name="MotionSensitivitySlider" 
                                   Minimum="0" Maximum="1" Value="0.5" 
                                   TickFrequency="0.1" IsSnapToTickEnabled="True"
                                   VerticalAlignment="Center" Margin="10,0,10,0"
                                   ValueChanged="MotionSensitivity_Changed"/>
                            <TextBlock Grid.Column="2" x:Name="MotionSensitivityValue" Text="0.5" 
                                      VerticalAlignment="Center" MinWidth="40" 
                                      Foreground="{DynamicResource PrimaryTextBrush}"/>
                        </Grid>
                        
                        <TextBlock Text="Adjust the sensitivity for motion detection. Higher values detect smaller movements." 
                                   Foreground="{DynamicResource SecondaryTextBrush}" FontSize="11" 
                                   Margin="0,0,0,20" TextWrapping="Wrap"/>
                    </StackPanel>
                </ScrollViewer>
            </TabItem>
        </TabControl>
        
        <!-- Buttons -->
        <StackPanel Grid.Row="2" Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,20,0,0">
            <Button Content="Apply" Click="Apply_Click" 
                    Padding="15,8" Margin="0,0,10,0"
                    Background="{DynamicResource AccentBrush}"
                    Foreground="{DynamicResource PrimaryTextBrush}"
                    BorderBrush="{DynamicResource BorderBrush}"
                    FontWeight="Bold"/>
            <Button Content="OK" Click="OK_Click" 
                    Padding="15,8" Margin="0,0,10,0" IsDefault="True"
                    Background="{DynamicResource AccentBrush}"
                    Foreground="{DynamicResource PrimaryTextBrush}"
                    BorderBrush="{DynamicResource BorderBrush}"
                    FontWeight="Bold"/>
            <Button Content="Cancel" Click="Cancel_Click" 
                    Padding="15,8" IsCancel="True"
                    Background="{DynamicResource ControlBackgroundBrush}"
                    Foreground="{DynamicResource PrimaryTextBrush}"
                    BorderBrush="{DynamicResource BorderBrush}"/>
        </StackPanel>
    </Grid>
</Window>
